# XBooster（Chrome 扩展）

一个强大的 Chrome 浏览器扩展，帮助你在 X（Twitter）平台上快速生成高质量评论、批量处理回复，并提供智能翻译功能。

## ✨ 核心功能

### 1. 智能评论生成
- **单条回复**：点击扩展图标，自动读取当前帖子内容，基于 AI 生成个性化评论
- **批量回复**：右下角浮窗批量生成当前页面多条帖子的回复（支持队列并发处理，自动续扫新帖）
- **一键填入**：生成的评论可一键填入回复框或复制到剪贴板

### 2. 情绪选择器（TONE）
- 弹窗与右下角控制台中均提供一排 **emoji 情绪快捷键**（如 😊、💼、❓、😄、🤔、⚡、🧐、💡）
- 点击任意 emoji 即可切换当前评论语气；当前选中的情绪会带有柔和高亮与绿色角标
- 控制台与弹窗情绪状态是同步的（包括右下角小老虎按钮）

### 3. 智能翻译
- **翻译开关**：在设置中可以总开关“启用翻译功能”
- **帖子自动翻译**：支持自动翻译当前帖子内容（**默认关闭，可手动开启**）
- **手动翻译**：在弹窗中进行读取后，可按需手动触发/刷新翻译
- **多语言支持**：可配置目标语言（默认：中文简体）

### 4. 悬浮按钮
- 在 X 输入框工具栏添加情绪表情按钮
- 一键生成草稿并自动写入输入框
- 使用当前选中的情绪风格生成内容

### 5. 统计看板
- **今日处理概览**：实时显示已处理、成功、失败的评论数量
- **数据持久化**：统计数据按日期保存
- **批量回复统计**：自动统计批量回复的处理结果

### 6. 自定义配置
- **AI 接口选择**：支持 OpenAI 官方接口或自定义兼容接口
- **多代理站支持**：可配置多个代理站实现负载均衡
- **提示词模板**：自定义评论生成模板，支持变量替换
- **模型选择**：支持 GPT-3.5 Turbo、GPT-4、GPT-4 Turbo 等模型

### 7. 页面上下文检测
智能识别当前页面类型：
- 📄 帖子详情页
- 🏠 首页
- 👤 用户主页
- 🔍 探索页
- 🔎 搜索结果页

### 8. 故障定位
- 接口返回非 200 时显示详细状态码和错误信息
- 便于排查 API Key、URL、权限等问题
- 提供清晰的错误提示和解决建议

## 🚀 快速开始

### 安装步骤

1. **下载或克隆项目**
   ```bash
   git clone <repository-url>
   cd xbooster
   ```

2. **加载扩展**
   - 打开 Chrome 浏览器
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择项目根目录

3. **配置 API Key**
   - 点击扩展图标，打开设置页面
   - 配置 OpenAI API Key 或自定义接口
   - 选择模型和语言设置

## 📖 使用指南

### 单条回复流程
1. 在 X 平台上打开任意帖子
2. 点击浏览器工具栏的扩展图标
3. 扩展自动读取帖子内容
4. 选择情绪风格（可选）
5. 点击"生成评论"
6. 复制或直接填入回复框

### 批量回复流程
1. 在 X 时间线或搜索结果页面
2. 点击右下角浮窗的"开始"按钮
3. 扩展自动扫描页面上的帖子
4. 批量生成评论（支持并发处理）
5. 在结果卡片中选择"填入输入框"或"复制"
6. 自动续扫新加载的帖子

### 悬浮按钮使用（小老虎助手）
1. 在 X 输入框工具栏找到情绪表情按钮
2. 点击按钮，使用当前情绪生成草稿
3. 草稿自动写入输入框

### 翻译功能
1. **启用翻译功能**：在设置中勾选“启用翻译功能”
2. **帖子自动翻译（可选）**：如需在读取帖子时自动展示翻译，可再勾选“自动翻译帖子”（默认关闭）
3. **手动翻译**：保持自动翻译关闭时，你仍可在弹窗中按需触发翻译
4. **目标语言**：在设置中选择翻译目标语言

## ⚙️ 配置说明

### API/模型配置
- **OpenAI 官方**：使用 OpenAI 官方 API
- **自定义接口**：支持配置兼容 OpenAI 格式的代理站
- **多代理站**：可添加多个代理站，支持启用/禁用和负载均衡
- **模型选择**：GPT-3.5 Turbo（推荐）、GPT-4、GPT-4 Turbo

### 翻译配置
- **启用翻译功能**：总开关，控制是否对评论和帖子提供翻译支持
- **帖子自动翻译（默认关闭）**：是否在读取帖子时自动翻译正文
- **目标语言**：设置翻译目标语言（默认：中文简体）

### 提示词配置
- **默认提示词模板**：自定义评论生成模板
- **变量支持**：支持 `{{author_handle}}`、`{{content}}`、`{{tone_label}}` 等变量
- **润色风格**：选择 AI 润色风格模板

### 批量回复配置
- **并发上限**：在 `bulk-reply.js` 中可调整（默认：2）
- **自动续扫**：自动扫描新加载的帖子
- **手动控制**：支持开始/停止/刷新操作

## 📁 项目结构

```
xbooster/
├── manifest.json              # 扩展配置文件
├── popup.html/css/js         # 主弹窗界面
├── settings.html/css/js      # 设置页面
├── content.js                # 页面内容提取脚本
├── background.js             # 后台服务脚本（AI/翻译调用）
├── x-inline.js               # 输入框悬浮按钮
├── bulk-reply.js             # 批量回复浮窗与队列
├── prompt-templates.json      # 提示词模板配置
├── emotions.json             # 情绪配置
├── icons/                    # 图标资源
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md                 # 本文档
```

## 🔧 技术特性

- **Manifest V3**：使用最新的 Chrome 扩展规范
- **Service Worker**：后台服务使用 Service Worker
- **Content Scripts**：页面内容提取和交互
- **Storage API**：使用 Chrome Storage 保存配置和统计数据
- **异步处理**：支持并发队列处理批量任务
- **错误处理**：完善的错误提示和故障定位

## ⚠️ 注意事项

1. **平台限制**：仅在 `x.com` 和 `pro.x.com` 平台工作
2. **API 配置**：需要配置有效的 API Key 或自定义接口 URL 才能生成评论
3. **网络要求**：需要稳定的网络连接访问 AI 接口
4. **批量填入**：卡片的"填入输入框"会自动点击回复按钮并写入弹窗输入框
5. **故障排查**：如生成失败，请检查：
   - API 配置是否正确
   - 网络连接是否正常
   - 确认当前页面为帖子详情页或时间线
   - 尝试刷新页面后重试

## 🔒 隐私与安全

- 所有配置数据存储在本地（Chrome Storage）
- API Key 仅用于调用配置的接口
- 不收集用户个人信息
- 支持自定义接口，可完全控制数据流向

## 📝 更新日志

### v1.0.0
- ✨ 初始版本发布
- ✅ 单条回复生成
- ✅ 批量回复处理
- ✅ 情绪选择器（8种风格）
- ✅ 智能翻译功能
- ✅ 悬浮按钮
- ✅ 统计看板
- ✅ 自定义 API 配置
- ✅ 页面上下文检测
- ✅ 故障定位功能

## 📄 许可证

本项目采用 MIT 许可证。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📧 联系方式

如有问题或建议，请通过 GitHub Issues 反馈。
